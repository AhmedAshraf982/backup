{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _NativeActionSheetManager = _interopRequireDefault(require(\"../ActionSheetIOS/NativeActionSheetManager\"));\n\nvar _NativeShareModule = _interopRequireDefault(require(\"./NativeShareModule\"));\n\nvar Platform = require('../Utilities/Platform');\n\nvar invariant = require('invariant');\n\nvar processColor = require('../StyleSheet/processColor');\n\nvar Share = function () {\n  function Share() {\n    (0, _classCallCheck2.default)(this, Share);\n  }\n\n  (0, _createClass2.default)(Share, null, [{\n    key: \"share\",\n    value: function share(content) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      invariant(typeof content === 'object' && content !== null, 'Content to share must be a valid object');\n      invariant(typeof content.url === 'string' || typeof content.message === 'string', 'At least one of URL and message is required');\n      invariant(typeof options === 'object' && options !== null, 'Options must be a valid object');\n\n      if (Platform.OS === 'android') {\n        invariant(_NativeShareModule.default, 'ShareModule should be registered on Android.');\n        invariant(content.title == null || typeof content.title === 'string', 'Invalid title: title should be a string.');\n        var newContent = {\n          title: content.title,\n          message: typeof content.message === 'string' ? content.message : undefined\n        };\n        return _NativeShareModule.default.share(newContent, options.dialogTitle).then(function (result) {\n          return (0, _extends2.default)({\n            activityType: null\n          }, result);\n        });\n      } else if (Platform.OS === 'ios') {\n        return new Promise(function (resolve, reject) {\n          var tintColor = processColor(options.tintColor);\n          invariant(tintColor == null || typeof tintColor === 'number', 'Unexpected color given for options.tintColor');\n          invariant(_NativeActionSheetManager.default, 'NativeActionSheetManager is not registered on iOS, but it should be.');\n\n          _NativeActionSheetManager.default.showShareActionSheetWithOptions({\n            message: typeof content.message === 'string' ? content.message : undefined,\n            url: typeof content.url === 'string' ? content.url : undefined,\n            subject: options.subject,\n            tintColor: typeof tintColor === 'number' ? tintColor : undefined,\n            excludedActivityTypes: options.excludedActivityTypes\n          }, function (error) {\n            return reject(error);\n          }, function (success, activityType) {\n            if (success) {\n              resolve({\n                action: 'sharedAction',\n                activityType: activityType\n              });\n            } else {\n              resolve({\n                action: 'dismissedAction',\n                activityType: null\n              });\n            }\n          });\n        });\n      } else {\n        return Promise.reject(new Error('Unsupported platform'));\n      }\n    }\n  }]);\n  return Share;\n}();\n\nShare.sharedAction = 'sharedAction';\nShare.dismissedAction = 'dismissedAction';\nmodule.exports = Share;","map":{"version":3,"sources":["D:/vsCodes/friday/personal_assist/node_modules/react-native/Libraries/Share/Share.js"],"names":["Platform","require","invariant","processColor","Share","content","options","url","message","OS","NativeShareModule","title","newContent","undefined","share","dialogTitle","then","result","activityType","Promise","resolve","reject","tintColor","NativeActionSheetManager","showShareActionSheetWithOptions","subject","excludedActivityTypes","error","success","action","Error","sharedAction","dismissedAction","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nconst Platform = require('../Utilities/Platform');\n\nconst invariant = require('invariant');\nconst processColor = require('../StyleSheet/processColor');\n\nimport NativeActionSheetManager from '../ActionSheetIOS/NativeActionSheetManager';\nimport NativeShareModule from './NativeShareModule';\n\ntype Content =\n  | {\n      title?: string,\n      message: string,\n      ...\n    }\n  | {\n      title?: string,\n      url: string,\n      ...\n    };\ntype Options = {\n  dialogTitle?: string,\n  excludedActivityTypes?: Array<string>,\n  tintColor?: string,\n  subject?: string,\n  ...\n};\n\nclass Share {\n  /**\n   * Open a dialog to share text content.\n   *\n   * In iOS, Returns a Promise which will be invoked an object containing `action`, `activityType`.\n   * If the user dismissed the dialog, the Promise will still be resolved with action being `Share.dismissedAction`\n   * and all the other keys being undefined.\n   *\n   * In Android, Returns a Promise which always be resolved with action being `Share.sharedAction`.\n   *\n   * ### Content\n   *\n   *  - `message` - a message to share\n   *\n   * #### iOS\n   *\n   *  - `url` - an URL to share\n   *\n   * At least one of URL and message is required.\n   *\n   * #### Android\n   *\n   * - `title` - title of the message\n   *\n   * ### Options\n   *\n   * #### iOS\n   *\n   *  - `subject` - a subject to share via email\n   *  - `excludedActivityTypes`\n   *  - `tintColor`\n   *\n   * #### Android\n   *\n   *  - `dialogTitle`\n   *\n   */\n  static share(\n    content: Content,\n    options: Options = {},\n  ): Promise<{action: string, activityType: ?string}> {\n    invariant(\n      typeof content === 'object' && content !== null,\n      'Content to share must be a valid object',\n    );\n    invariant(\n      typeof content.url === 'string' || typeof content.message === 'string',\n      'At least one of URL and message is required',\n    );\n    invariant(\n      typeof options === 'object' && options !== null,\n      'Options must be a valid object',\n    );\n\n    if (Platform.OS === 'android') {\n      invariant(\n        NativeShareModule,\n        'ShareModule should be registered on Android.',\n      );\n      invariant(\n        content.title == null || typeof content.title === 'string',\n        'Invalid title: title should be a string.',\n      );\n\n      const newContent = {\n        title: content.title,\n        message:\n          typeof content.message === 'string' ? content.message : undefined,\n      };\n\n      return NativeShareModule.share(newContent, options.dialogTitle).then(\n        result => ({\n          activityType: null,\n          ...result,\n        }),\n      );\n    } else if (Platform.OS === 'ios') {\n      return new Promise((resolve, reject) => {\n        const tintColor = processColor(options.tintColor);\n\n        invariant(\n          tintColor == null || typeof tintColor === 'number',\n          'Unexpected color given for options.tintColor',\n        );\n\n        invariant(\n          NativeActionSheetManager,\n          'NativeActionSheetManager is not registered on iOS, but it should be.',\n        );\n\n        NativeActionSheetManager.showShareActionSheetWithOptions(\n          {\n            message:\n              typeof content.message === 'string' ? content.message : undefined,\n            url: typeof content.url === 'string' ? content.url : undefined,\n            subject: options.subject,\n            tintColor: typeof tintColor === 'number' ? tintColor : undefined,\n            excludedActivityTypes: options.excludedActivityTypes,\n          },\n          error => reject(error),\n          (success, activityType) => {\n            if (success) {\n              resolve({\n                action: 'sharedAction',\n                activityType: activityType,\n              });\n            } else {\n              resolve({\n                action: 'dismissedAction',\n                activityType: null,\n              });\n            }\n          },\n        );\n      });\n    } else {\n      return Promise.reject(new Error('Unsupported platform'));\n    }\n  }\n\n  /**\n   * The content was successfully shared.\n   */\n  static sharedAction: 'sharedAction' = 'sharedAction';\n\n  /**\n   * The dialog has been dismissed.\n   * @platform ios\n   */\n  static dismissedAction: 'dismissedAction' = 'dismissedAction';\n}\n\nmodule.exports = Share;\n"]},"metadata":{},"sourceType":"script"}