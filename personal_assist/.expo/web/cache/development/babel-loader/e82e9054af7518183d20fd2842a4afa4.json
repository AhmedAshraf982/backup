{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _NativeVibration = _interopRequireDefault(require(\"./NativeVibration\"));\n\nvar Platform = require('../Utilities/Platform');\n\nvar _vibrating = false;\nvar _id = 0;\nvar _default_vibration_length = 400;\n\nfunction vibrateByPattern(pattern) {\n  var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (_vibrating) {\n    return;\n  }\n\n  _vibrating = true;\n\n  if (pattern[0] === 0) {\n    _NativeVibration.default.vibrate(_default_vibration_length);\n\n    pattern = pattern.slice(1);\n  }\n\n  if (pattern.length === 0) {\n    _vibrating = false;\n    return;\n  }\n\n  setTimeout(function () {\n    return vibrateScheduler(++_id, pattern, repeat, 1);\n  }, pattern[0]);\n}\n\nfunction vibrateScheduler(id, pattern, repeat, nextIndex) {\n  if (!_vibrating || id !== _id) {\n    return;\n  }\n\n  _NativeVibration.default.vibrate(_default_vibration_length);\n\n  if (nextIndex >= pattern.length) {\n    if (repeat) {\n      nextIndex = 0;\n    } else {\n      _vibrating = false;\n      return;\n    }\n  }\n\n  setTimeout(function () {\n    return vibrateScheduler(id, pattern, repeat, nextIndex + 1);\n  }, pattern[nextIndex]);\n}\n\nvar Vibration = {\n  vibrate: function vibrate() {\n    var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _default_vibration_length;\n    var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (Platform.OS === 'android') {\n      if (typeof pattern === 'number') {\n        _NativeVibration.default.vibrate(pattern);\n      } else if (Array.isArray(pattern)) {\n        _NativeVibration.default.vibrateByPattern(pattern, repeat ? 0 : -1);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    } else {\n      if (_vibrating) {\n        return;\n      }\n\n      if (typeof pattern === 'number') {\n        _NativeVibration.default.vibrate(pattern);\n      } else if (Array.isArray(pattern)) {\n        vibrateByPattern(pattern, repeat);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    }\n  },\n  cancel: function cancel() {\n    if (Platform.OS === 'ios') {\n      _vibrating = false;\n    } else {\n      _NativeVibration.default.cancel();\n    }\n  }\n};\nmodule.exports = Vibration;","map":{"version":3,"sources":["D:/vsCodes/friday/personal_assist/node_modules/react-native/Libraries/Vibration/Vibration.js"],"names":["Platform","require","_vibrating","_id","_default_vibration_length","vibrateByPattern","pattern","repeat","NativeVibration","vibrate","slice","length","setTimeout","vibrateScheduler","id","nextIndex","Vibration","OS","Array","isArray","Error","cancel","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict\n * @jsdoc\n */\n\nimport NativeVibration from './NativeVibration';\nconst Platform = require('../Utilities/Platform');\n\n/**\n * Vibration API\n *\n * See https://reactnative.dev/docs/vibration.html\n */\n\nlet _vibrating: boolean = false;\nlet _id: number = 0; // _id is necessary to prevent race condition.\nconst _default_vibration_length = 400;\n\nfunction vibrateByPattern(pattern: Array<number>, repeat: boolean = false) {\n  if (_vibrating) {\n    return;\n  }\n  _vibrating = true;\n  if (pattern[0] === 0) {\n    NativeVibration.vibrate(_default_vibration_length);\n    // $FlowFixMe[reassign-const]\n    pattern = pattern.slice(1);\n  }\n  if (pattern.length === 0) {\n    _vibrating = false;\n    return;\n  }\n  setTimeout(() => vibrateScheduler(++_id, pattern, repeat, 1), pattern[0]);\n}\n\nfunction vibrateScheduler(\n  id,\n  pattern: Array<number>,\n  repeat: boolean,\n  nextIndex: number,\n) {\n  if (!_vibrating || id !== _id) {\n    return;\n  }\n  NativeVibration.vibrate(_default_vibration_length);\n  if (nextIndex >= pattern.length) {\n    if (repeat) {\n      // $FlowFixMe[reassign-const]\n      nextIndex = 0;\n    } else {\n      _vibrating = false;\n      return;\n    }\n  }\n  setTimeout(\n    () => vibrateScheduler(id, pattern, repeat, nextIndex + 1),\n    pattern[nextIndex],\n  );\n}\n\nconst Vibration = {\n  /**\n   * Trigger a vibration with specified `pattern`.\n   *\n   * See https://reactnative.dev/docs/vibration.html#vibrate\n   */\n  vibrate: function(\n    pattern: number | Array<number> = _default_vibration_length,\n    repeat: boolean = false,\n  ) {\n    if (Platform.OS === 'android') {\n      if (typeof pattern === 'number') {\n        NativeVibration.vibrate(pattern);\n      } else if (Array.isArray(pattern)) {\n        NativeVibration.vibrateByPattern(pattern, repeat ? 0 : -1);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    } else {\n      if (_vibrating) {\n        return;\n      }\n      if (typeof pattern === 'number') {\n        NativeVibration.vibrate(pattern);\n      } else if (Array.isArray(pattern)) {\n        vibrateByPattern(pattern, repeat);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    }\n  },\n  /**\n   * Stop vibration\n   *\n   * See https://reactnative.dev/docs/vibration.html#cancel\n   */\n  cancel: function() {\n    if (Platform.OS === 'ios') {\n      _vibrating = false;\n    } else {\n      NativeVibration.cancel();\n    }\n  },\n};\n\nmodule.exports = Vibration;\n"]},"metadata":{},"sourceType":"script"}