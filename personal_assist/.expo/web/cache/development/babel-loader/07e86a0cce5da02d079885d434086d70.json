{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _RCTDeviceEventEmitter = _interopRequireDefault(require(\"../EventEmitter/RCTDeviceEventEmitter\"));\n\nvar _NativeRedBox = _interopRequireDefault(require(\"../NativeModules/specs/NativeRedBox\"));\n\nvar _NativeBugReporting = _interopRequireDefault(require(\"./NativeBugReporting\"));\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction defaultExtras() {\n  BugReporting.addFileSource('react_hierarchy.txt', function () {\n    return require('./dumpReactTree')();\n  });\n}\n\nvar BugReporting = function () {\n  function BugReporting() {\n    (0, _classCallCheck2.default)(this, BugReporting);\n  }\n\n  (0, _createClass2.default)(BugReporting, null, [{\n    key: \"_maybeInit\",\n    value: function _maybeInit() {\n      if (!BugReporting._subscription) {\n        BugReporting._subscription = _RCTDeviceEventEmitter.default.addListener('collectBugExtraData', BugReporting.collectExtraData, null);\n        defaultExtras();\n      }\n\n      if (!BugReporting._redboxSubscription) {\n        BugReporting._redboxSubscription = _RCTDeviceEventEmitter.default.addListener('collectRedBoxExtraData', BugReporting.collectExtraData, null);\n      }\n    }\n  }, {\n    key: \"addSource\",\n    value: function addSource(key, callback) {\n      return this._addSource(key, callback, BugReporting._extraSources);\n    }\n  }, {\n    key: \"addFileSource\",\n    value: function addFileSource(key, callback) {\n      return this._addSource(key, callback, BugReporting._fileSources);\n    }\n  }, {\n    key: \"_addSource\",\n    value: function _addSource(key, callback, source) {\n      BugReporting._maybeInit();\n\n      if (source.has(key)) {\n        console.warn(\"BugReporting.add* called multiple times for same key '\" + key + \"'\");\n      }\n\n      source.set(key, callback);\n      return {\n        remove: function remove() {\n          source.delete(key);\n        }\n      };\n    }\n  }, {\n    key: \"collectExtraData\",\n    value: function collectExtraData() {\n      var extraData = {};\n\n      for (var _iterator = _createForOfIteratorHelperLoose(BugReporting._extraSources), _step; !(_step = _iterator()).done;) {\n        var _ref = _step.value;\n\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n\n        var _key = _ref2[0];\n        var callback = _ref2[1];\n        extraData[_key] = callback();\n      }\n\n      var fileData = {};\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(BugReporting._fileSources), _step2; !(_step2 = _iterator2()).done;) {\n        var _ref3 = _step2.value;\n\n        var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);\n\n        var _key2 = _ref4[0];\n        var _callback = _ref4[1];\n        fileData[_key2] = _callback();\n      }\n\n      if (_NativeBugReporting.default != null && _NativeBugReporting.default.setExtraData != null) {\n        _NativeBugReporting.default.setExtraData(extraData, fileData);\n      }\n\n      if (_NativeRedBox.default != null && _NativeRedBox.default.setExtraData != null) {\n        _NativeRedBox.default.setExtraData(extraData, 'From BugReporting.js');\n      }\n\n      return {\n        extras: extraData,\n        files: fileData\n      };\n    }\n  }]);\n  return BugReporting;\n}();\n\nBugReporting._extraSources = new Map();\nBugReporting._fileSources = new Map();\nBugReporting._subscription = null;\nBugReporting._redboxSubscription = null;\nmodule.exports = BugReporting;","map":{"version":3,"sources":["D:/vsCodes/friday/personal_assist/node_modules/react-native/Libraries/BugReporting/BugReporting.js"],"names":["defaultExtras","BugReporting","addFileSource","require","_subscription","RCTDeviceEventEmitter","addListener","collectExtraData","_redboxSubscription","key","callback","_addSource","_extraSources","_fileSources","source","_maybeInit","has","console","warn","set","remove","delete","extraData","fileData","NativeBugReporting","setExtraData","NativeRedBox","extras","files","Map","module","exports"],"mappings":";;;;;;;;AAUA;;AACA;;AAEA;;;;;;;;AAUA,SAASA,aAAT,GAAyB;AACvBC,EAAAA,YAAY,CAACC,aAAb,CAA2B,qBAA3B,EAAkD;AAAA,WAChDC,OAAO,CAAC,iBAAD,CAAP,EADgD;AAAA,GAAlD;AAGD;;IAQKF,Y;;;;;;;WAMJ,sBAAoB;AAClB,UAAI,CAACA,YAAY,CAACG,aAAlB,EAAiC;AAC/BH,QAAAA,YAAY,CAACG,aAAb,GAA6BC,+BAAsBC,WAAtB,CAC3B,qBAD2B,EAG3BL,YAAY,CAACM,gBAHc,EAI3B,IAJ2B,CAA7B;AAMAP,QAAAA,aAAa;AACd;;AAED,UAAI,CAACC,YAAY,CAACO,mBAAlB,EAAuC;AACrCP,QAAAA,YAAY,CAACO,mBAAb,GAAmCH,+BAAsBC,WAAtB,CACjC,wBADiC,EAGjCL,YAAY,CAACM,gBAHoB,EAIjC,IAJiC,CAAnC;AAMD;AACF;;;WAUD,mBACEE,GADF,EAEEC,QAFF,EAG6B;AAC3B,aAAO,KAAKC,UAAL,CAAgBF,GAAhB,EAAqBC,QAArB,EAA+BT,YAAY,CAACW,aAA5C,CAAP;AACD;;;WAUD,uBACEH,GADF,EAEEC,QAFF,EAG6B;AAC3B,aAAO,KAAKC,UAAL,CAAgBF,GAAhB,EAAqBC,QAArB,EAA+BT,YAAY,CAACY,YAA5C,CAAP;AACD;;;WAED,oBACEJ,GADF,EAEEC,QAFF,EAGEI,MAHF,EAI6B;AAC3Bb,MAAAA,YAAY,CAACc,UAAb;;AACA,UAAID,MAAM,CAACE,GAAP,CAAWP,GAAX,CAAJ,EAAqB;AACnBQ,QAAAA,OAAO,CAACC,IAAR,4DAC2DT,GAD3D;AAGD;;AACDK,MAAAA,MAAM,CAACK,GAAP,CAAWV,GAAX,EAAgBC,QAAhB;AACA,aAAO;AACLU,QAAAA,MAAM,EAAE,kBAAM;AACZN,UAAAA,MAAM,CAACO,MAAP,CAAcZ,GAAd;AACD;AAHI,OAAP;AAKD;;;WAQD,4BAAqC;AACnC,UAAMa,SAAoB,GAAG,EAA7B;;AACA,2DAA8BrB,YAAY,CAACW,aAA3C,wCAA0D;AAAA;;AAAA;;AAAA,YAA9CH,IAA8C;AAAA,YAAzCC,QAAyC;AACxDY,QAAAA,SAAS,CAACb,IAAD,CAAT,GAAiBC,QAAQ,EAAzB;AACD;;AACD,UAAMa,QAAmB,GAAG,EAA5B;;AACA,4DAA8BtB,YAAY,CAACY,YAA3C,2CAAyD;AAAA;;AAAA;;AAAA,YAA7CJ,KAA6C;AAAA,YAAxCC,SAAwC;AACvDa,QAAAA,QAAQ,CAACd,KAAD,CAAR,GAAgBC,SAAQ,EAAxB;AACD;;AAED,UAAIc,+BAAsB,IAAtB,IAA8BA,4BAAmBC,YAAnB,IAAmC,IAArE,EAA2E;AACzED,oCAAmBC,YAAnB,CAAgCH,SAAhC,EAA2CC,QAA3C;AACD;;AAED,UAAIG,yBAAgB,IAAhB,IAAwBA,sBAAaD,YAAb,IAA6B,IAAzD,EAA+D;AAC7DC,8BAAaD,YAAb,CAA0BH,SAA1B,EAAqC,sBAArC;AACD;;AAED,aAAO;AAACK,QAAAA,MAAM,EAAEL,SAAT;AAAoBM,QAAAA,KAAK,EAAEL;AAA3B,OAAP;AACD;;;;;AArGGtB,Y,CACGW,a,GAA6C,IAAIiB,GAAJ,E;AADhD5B,Y,CAEGY,Y,GAA4C,IAAIgB,GAAJ,E;AAF/C5B,Y,CAGGG,a,GAAoC,I;AAHvCH,Y,CAIGO,mB,GAA0C,I;AAoGnDsB,MAAM,CAACC,OAAP,GAAiB9B,YAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport RCTDeviceEventEmitter from '../EventEmitter/RCTDeviceEventEmitter';\nimport NativeRedBox from '../NativeModules/specs/NativeRedBox';\nimport {type EventSubscription} from '../vendor/emitter/EventEmitter';\nimport NativeBugReporting from './NativeBugReporting';\n\ntype ExtraData = {[key: string]: string, ...};\ntype SourceCallback = () => string;\ntype DebugData = {\n  extras: ExtraData,\n  files: ExtraData,\n  ...\n};\n\nfunction defaultExtras() {\n  BugReporting.addFileSource('react_hierarchy.txt', () =>\n    require('./dumpReactTree')(),\n  );\n}\n\n/**\n * A simple class for collecting bug report data. Components can add sources that will be queried when a bug report\n * is created via `collectExtraData`. For example, a list component might add a source that provides the list of rows\n * that are currently visible on screen. Components should also remember to call `remove()` on the object that is\n * returned by `addSource` when they are unmounted.\n */\nclass BugReporting {\n  static _extraSources: Map<string, SourceCallback> = new Map();\n  static _fileSources: Map<string, SourceCallback> = new Map();\n  static _subscription: ?EventSubscription = null;\n  static _redboxSubscription: ?EventSubscription = null;\n\n  static _maybeInit() {\n    if (!BugReporting._subscription) {\n      BugReporting._subscription = RCTDeviceEventEmitter.addListener(\n        'collectBugExtraData',\n        // $FlowFixMe[method-unbinding]\n        BugReporting.collectExtraData,\n        null,\n      );\n      defaultExtras();\n    }\n\n    if (!BugReporting._redboxSubscription) {\n      BugReporting._redboxSubscription = RCTDeviceEventEmitter.addListener(\n        'collectRedBoxExtraData',\n        // $FlowFixMe[method-unbinding]\n        BugReporting.collectExtraData,\n        null,\n      );\n    }\n  }\n\n  /**\n   * Maps a string key to a simple callback that should return a string payload to be attached\n   * to a bug report. Source callbacks are called when `collectExtraData` is called.\n   *\n   * Returns an object to remove the source when the component unmounts.\n   *\n   * Conflicts trample with a warning.\n   */\n  static addSource(\n    key: string,\n    callback: SourceCallback,\n  ): {remove: () => void, ...} {\n    return this._addSource(key, callback, BugReporting._extraSources);\n  }\n\n  /**\n   * Maps a string key to a simple callback that should return a string payload to be attached\n   * to a bug report. Source callbacks are called when `collectExtraData` is called.\n   *\n   * Returns an object to remove the source when the component unmounts.\n   *\n   * Conflicts trample with a warning.\n   */\n  static addFileSource(\n    key: string,\n    callback: SourceCallback,\n  ): {remove: () => void, ...} {\n    return this._addSource(key, callback, BugReporting._fileSources);\n  }\n\n  static _addSource(\n    key: string,\n    callback: SourceCallback,\n    source: Map<string, SourceCallback>,\n  ): {remove: () => void, ...} {\n    BugReporting._maybeInit();\n    if (source.has(key)) {\n      console.warn(\n        `BugReporting.add* called multiple times for same key '${key}'`,\n      );\n    }\n    source.set(key, callback);\n    return {\n      remove: () => {\n        source.delete(key);\n      },\n    };\n  }\n\n  /**\n   * This can be called from a native bug reporting flow, or from JS code.\n   *\n   * If available, this will call `NativeModules.BugReporting.setExtraData(extraData)`\n   * after collecting `extraData`.\n   */\n  static collectExtraData(): DebugData {\n    const extraData: ExtraData = {};\n    for (const [key, callback] of BugReporting._extraSources) {\n      extraData[key] = callback();\n    }\n    const fileData: ExtraData = {};\n    for (const [key, callback] of BugReporting._fileSources) {\n      fileData[key] = callback();\n    }\n\n    if (NativeBugReporting != null && NativeBugReporting.setExtraData != null) {\n      NativeBugReporting.setExtraData(extraData, fileData);\n    }\n\n    if (NativeRedBox != null && NativeRedBox.setExtraData != null) {\n      NativeRedBox.setExtraData(extraData, 'From BugReporting.js');\n    }\n\n    return {extras: extraData, files: fileData};\n  }\n}\n\nmodule.exports = BugReporting;\n"]},"metadata":{},"sourceType":"script"}